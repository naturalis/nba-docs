## Config file for travis automatic build.
## Make sure credentials have been set for this repo:
## travis env set DOCKER_USER
## travis env set DOCKER_PASS

language: generic
services:
  - docker
branches:
  only:
  - V2_master
env:
  global:
    - DOCKER_TAG=$TRAVIS_TAG
    - DOCKER_IMAGE_NAME=naturalis/nba-docs:$DOCKER_TAG
script:
  - docker build -t $DOCKER_IMAGE_NAME ./

after_success:
  - docker login -u $DOCKER_USER -p $DOCKER_PASS
  - docker push $DOCKER_IMAGE_NAME
  - docker logout
